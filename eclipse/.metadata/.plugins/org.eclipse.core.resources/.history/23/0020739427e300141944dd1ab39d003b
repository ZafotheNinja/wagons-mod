package com.shultzy88.wagons.item;

import com.shultzy88.wagons.entity.EntityWagon;

import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.world.World;

public class ItemWagon extends Item
{
	public int wagonType; // to determine which type of wagon entity to
							// spawn

	public ItemWagon(int itemWagonType)
	{
		this.maxStackSize = 1;
		this.wagonType = itemWagonType;
		this.setCreativeTab(CreativeTabs.tabTransport);
	}

	/**
	 * Callback for item usage. If the item does something special on right
	 * clicking, he will have one of those. Return True if something happen and
	 * false if it don't. This is for ITEMS, not BLOCKS
	 */
	public boolean onItemUse(ItemStack itemStack, EntityPlayer player, World world,
			int blockX, int blockY, int blockZ, int p_77648_7_, float p_77648_8_,
			float p_77648_9_, float p_77648_10_)
	{
		// only if the world is on a server, however all world operations are
		// done on server side even on single player worlds
		if (!world.isRemote)
		{
			// create a new entity of a wagon at the block location
			// the player is interacting
			EntityWagon entityWagon = EntityWagon.createWagon(world,
					(double) ((float) blockX + 0.5F),
					(double) ((float) blockY + 0.5F),
					(double) ((float) blockZ + 0.5F),
					((ItemWagon) itemStack.getItem()).wagonType);
			if (itemStack.hasDisplayName())
			{
				entityWagon.getEntityName(itemStack.getDisplayName());
			}

			world.spawnEntityInWorld(entityWagon);

			// remove the item from the stack
			--itemStack.stackSize;
			return true;
		} else
		{
			return false;
		}

	}
}
